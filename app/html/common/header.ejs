<%
    const Sitemap = require('sitemap');
    // get the page directly to hook it into webpack dev build process
    const page = Sitemap.getPage(htmlWebpackPlugin.options && htmlWebpackPlugin.options.page);

    const Strings = page.common.header;
    const Locale = page.output.locale;
    const BaseUrl = page.output.href;
    const getLocaleHref = (lang) => Sitemap.getLocaleHref(page, lang, true);

    // here are all options for the language dropdown
    const allLocales = [
        {
            language: 'en',
            img:'ðŸ‡¬ðŸ‡§',
            url: getLocaleHref('en'),
        },
        {
            language: 'ja',
            img:'ðŸ‡¯ðŸ‡µ',
            url: getLocaleHref('ja'),
        },
        {
            language: 'ko',
            img:'ðŸ‡°ðŸ‡·',
            url: getLocaleHref('ko'),
        },
    ];

    // choosing the selected one and filtering the list
    const [locale] = allLocales.splice(allLocales.findIndex(l => l.language == page.output.locale), 1);
%>

<header id="header" class="header"
<% if (typeof hideheader !== 'undefined' && hideheader) { %>
style="visibility: hidden;"
<% } %>
>
<% if (typeof removeheader === 'undefined' || !removeheader) { %>

    <!-- header markup here -->

<% } %>

</header>